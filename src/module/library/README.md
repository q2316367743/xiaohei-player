# 媒体库模块

## 扫描文件逻辑

1. 获取文件列表
2. 遍历每一个匹配的视频项
3. 将视频地址转为 hash
4. 判断数据库中是否存在
   1. 如果存在则跳过
   2. 不存在继续
5. 获取视频信息
6. 读取是否存在 nfo 文件
   1. 如果存在则从 nfo 中获取视频信息
   2. 如果不存在则不处理
7. 获取设置
8. 生成
   1. 生成封面图
   2. 生成视频预览图（鼠标悬停在短片上时播放的预览短片）
   3. 短视频时间轴预览小图（视频播放器下方用于快速导航的缩略图集。）
9. 插入到数据库中
10. 遍历完成，判断是不是有视频被删除，则从数据库中删除